<!--
  Generated template for the LocationPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="primary">
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Change location</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <agm-map *ngIf="CURRENT_LOCATION" [latitude]="CURRENT_LOCATION?.latitude" [longitude]="CURRENT_LOCATION?.longitude">
    <agm-marker [latitude]="CURRENT_LOCATION?.latitude" [longitude]="CURRENT_LOCATION?.longitude" [iconUrl]="'assets/imgs/current-location.png'"></agm-marker>
    <agm-circle [latitude]="CURRENT_LOCATION?.latitude" [longitude]="CURRENT_LOCATION?.longitude" [radius]="50000" [fillColor]="'red'"
      [circleDraggable]="false" [editable]="true">
    </agm-circle>
    <agm-marker *ngFor="let m of markers; let i = index" (markerClick)="clickedMarker(m.label, i)" [title]="m.label" [openInfoWindow]="true"
      [latitude]="m.latitude" [longitude]="m.longitude" [markerDraggable]="m.draggable" (dragEnd)="markerDragEnd(m, $event)">
      <agm-info-window>
        <ion-item>
          <ion-avatar item-start>
            <img [src]="m.store_image">
          </ion-avatar>
          <h2>{{m.label}}</h2>
        </ion-item>
      </agm-info-window>
    </agm-marker>
  </agm-map>

</ion-content>